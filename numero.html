<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.css"  rel="stylesheet" />

    
    
    <title>Numero</title>

    <style>
        /*Styling as modal */
    </style>
</head>

<body>
    
<nav class="border-gray-200 bg-blue-500 dark:bg-gray-800 dark:border-gray-700">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
      <a href="index.html" class="flex items-center">
          <img src="img/logo.png" class="h-8 mr-3" />
          <span   class="self-center text-2xl font-semibold whitespace-nowrap text-white">NUMERO DEL CORO</span>
      </a>
      <button data-collapse-toggle="navbar-solid-bg" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-solid-bg" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
    
      </div>
    </div>
  </nav>
  <br>
    <br>
  

    <div class="n">
      
        <form id="formulario-busqueda">
            <input type="text" name="num" id="numero-himno" class="input input-bordered input-info w-full max-w-screen-xl" />
          
            <br>
            <br>
            <br>
            <br>

            <div id="message"></div>
            <div class="container">
              
                <div class="buttons">
                    <span class="button number" id="uno" onclick="agregarnumero('1')">1</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('2')">2</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('3')">3</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('4')">4</span>
                    <br>
                   
                    <span class="button number" onclick="agregarnumero('5')">5</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('6')">6</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('7')">7</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('8')">8</span>
                    <br>
                    <span class="button number" onclick="agregarnumero('9')">9</span>
                    <br>
                   
                    <span class="button number" onclick="agregarnumero('0')">0</span>
                    <br> 
                    <span class="button number" onclick="borrar()">&#10006</span>
                    <br>
                    <span class="button number" onclick="buscarHimno()">&#128270</span>
                </div>
            </div>

         




        </form>

        <div id="lista-himnos" style="display:none">
            <h1 id="title">
                <span id="titleText"></span>
                <span id="close-button">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </span>
            </h1>

            <section id="bodyText">
    

           
          

            </section>
            <section id="coroText">

            </section>
         <section id="estrofaText">
                
                </section>

                <section id="estrofa3Text">

                </section>

        </div>

        <script>

            //borrra el contenido del input del boton buscar
            function borrar() {
                var numInput = document.getElementsByName("num")[0];
                numInput.value = "";
            }


            //agrega el numero al input
            function agregarnumero(num) {
                var numInput = document.getElementsByName("num")[0];
                numInput.value += num;
            }

            //Close modal
            const closeButton = document.getElementById('close-button');

            closeButton.addEventListener('click', () => {
                const listaHimnos = document.getElementById('lista-himnos');
                listaHimnos.style.display = 'none';
            });

            const buscarHimno = () => {
                const tituloHimno = document.querySelector('span#titleText');
                const bodyHimno = document.querySelector('section#bodyText');
                const coroHimno = document.querySelector('section#coroText');
                const estrofaHimno = document.querySelector('section#estrofaText');
                const estrofa3Himno = document.querySelector('section#estrofa3Text')
           

                const numeroHimno = document.getElementById('numero-himno').value;
                const listaHimnos = document.getElementById('lista-himnos');
                const listaHimnoss = document.getElementById('lista-himnos');
                const listaHimnosss = document.getElementById('lista-himnos');
                const listaHimnossss = document.getElementById('lista-himno');
             
         
              


                fetch('himnos/h' + numeroHimno + '.json')
                    .then(response => response.text())
                    .then(data => {

                        let himno = JSON.parse(data);

                        console.log(himno);

                        if (himno) {
                            //set listaHimno visibility to visible
                            listaHimnos.style.display = 'block';


                            console.log(tituloHimno);

                            tituloHimno.innerHTML = himno.titulo;
                            bodyHimno.innerHTML = himno.letra;
                            coroHimno.innerHTML = himno.coro;
                            estrofaHimno.innerHTML = himno.estrofa; 
                            estrofa3Himno.innerHTML = himno.estrofa3;
                         
                        

                            //Reset the form
                            document.getElementById('formulario-busqueda').reset();

                        } else {

                        }
                    })
                    .catch(error => {
                        console.error('Error al cargar el archivo JSON:', error);
                        //Show error message
                        const message = document.getElementById('message');
                        message.innerHTML = 'No se encontrÃ³ el himno';
                        message.style.color = 'red';
                        //set listaHimno visibility to visible
                        listaHimnos.style.display = 'none';
                        //Clear the console
                        console.clear();
                    });


            };

            document.getElementById('formulario-busqueda').addEventListener('submit', event => {
                event.preventDefault();
                buscarHimno();
            });




        </script>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>

</body>

</html>